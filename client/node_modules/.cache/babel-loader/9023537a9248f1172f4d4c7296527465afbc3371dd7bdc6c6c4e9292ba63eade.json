{"ast":null,"code":"import axios from 'axios';\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\nconst api = axios.create({\n  baseURL: API_URL,\n  withCredentials: true,\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\n\n// Add token to requests\napi.interceptors.request.use(config => {\n  const token = localStorage.getItem('token');\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  return config;\n});\n\n// Handle response errors\napi.interceptors.response.use(response => response, error => {\n  var _error$response;\n  if (((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status) === 401) {\n    localStorage.removeItem('token');\n    window.location.href = '/login';\n  }\n  return Promise.reject(error);\n});\n\n// Auth API\nexport const authAPI = {\n  getMe: () => api.get('/auth/me'),\n  logout: () => api.post('/auth/logout'),\n  updateProfile: data => api.put('/auth/profile', data),\n  loginWithGoogle: () => {\n    window.location.href = `${API_URL}/auth/google`;\n  }\n};\n\n// Items API\nexport const itemsAPI = {\n  getItems: params => api.get('/items', {\n    params\n  }),\n  getItem: id => api.get(`/items/${id}`),\n  createItem: formData => api.post('/items', formData, {\n    headers: {\n      'Content-Type': 'multipart/form-data'\n    }\n  }),\n  getMyItems: () => api.get('/items/my/items'),\n  updateItem: (id, formData) => api.put(`/items/${id}`, formData, {\n    headers: {\n      'Content-Type': 'multipart/form-data'\n    }\n  }),\n  deleteItem: id => api.delete(`/items/${id}`)\n};\n\n// Claims API\nexport const claimsAPI = {\n  createClaim: formData => api.post('/claims', formData, {\n    headers: {\n      'Content-Type': 'multipart/form-data'\n    }\n  }),\n  getClaimsByItem: itemId => api.get(`/claims/item/${itemId}`),\n  getMyClaims: () => api.get('/claims/my'),\n  updateClaimStatus: (id, data) => api.put(`/claims/${id}/status`, data),\n  deleteClaim: id => api.delete(`/claims/${id}`)\n};\n\n// Admin API\nexport const adminAPI = {\n  getStats: () => api.get('/admin/stats'),\n  getUsers: () => api.get('/admin/users'),\n  updateUserRole: (id, role) => api.put(`/admin/users/${id}/role`, {\n    role\n  }),\n  toggleUserStatus: id => api.put(`/admin/users/${id}/toggle-status`),\n  getAllClaims: status => api.get('/admin/claims', {\n    params: {\n      status\n    }\n  }),\n  disputeClaim: (id, reviewNote) => api.put(`/admin/claims/${id}/dispute`, {\n    reviewNote\n  }),\n  deleteItem: id => api.delete(`/admin/items/${id}`)\n};\nexport default api;","map":{"version":3,"names":["axios","API_URL","process","env","REACT_APP_API_URL","api","create","baseURL","withCredentials","headers","interceptors","request","use","config","token","localStorage","getItem","Authorization","response","error","_error$response","status","removeItem","window","location","href","Promise","reject","authAPI","getMe","get","logout","post","updateProfile","data","put","loginWithGoogle","itemsAPI","getItems","params","id","createItem","formData","getMyItems","updateItem","deleteItem","delete","claimsAPI","createClaim","getClaimsByItem","itemId","getMyClaims","updateClaimStatus","deleteClaim","adminAPI","getStats","getUsers","updateUserRole","role","toggleUserStatus","getAllClaims","disputeClaim","reviewNote"],"sources":["C:/Users/Dell/Desktop/klh-lost-and-found/client/src/api/api.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\r\n\r\nconst api = axios.create({\r\n  baseURL: API_URL,\r\n  withCredentials: true,\r\n  headers: {\r\n    'Content-Type': 'application/json'\r\n  }\r\n});\r\n\r\n// Add token to requests\r\napi.interceptors.request.use((config) => {\r\n  const token = localStorage.getItem('token');\r\n  if (token) {\r\n    config.headers.Authorization = `Bearer ${token}`;\r\n  }\r\n  return config;\r\n});\r\n\r\n// Handle response errors\r\napi.interceptors.response.use(\r\n  (response) => response,\r\n  (error) => {\r\n    if (error.response?.status === 401) {\r\n      localStorage.removeItem('token');\r\n      window.location.href = '/login';\r\n    }\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n// Auth API\r\nexport const authAPI = {\r\n  getMe: () => api.get('/auth/me'),\r\n  logout: () => api.post('/auth/logout'),\r\n  updateProfile: (data) => api.put('/auth/profile', data),\r\n  loginWithGoogle: () => {\r\n    window.location.href = `${API_URL}/auth/google`;\r\n  }\r\n};\r\n\r\n// Items API\r\nexport const itemsAPI = {\r\n  getItems: (params) => api.get('/items', { params }),\r\n  getItem: (id) => api.get(`/items/${id}`),\r\n  createItem: (formData) => api.post('/items', formData, {\r\n    headers: { 'Content-Type': 'multipart/form-data' }\r\n  }),\r\n  getMyItems: () => api.get('/items/my/items'),\r\n  updateItem: (id, formData) => api.put(`/items/${id}`, formData, {\r\n    headers: { 'Content-Type': 'multipart/form-data' }\r\n  }),\r\n  deleteItem: (id) => api.delete(`/items/${id}`)\r\n};\r\n\r\n// Claims API\r\nexport const claimsAPI = {\r\n  createClaim: (formData) => api.post('/claims', formData, {\r\n    headers: { 'Content-Type': 'multipart/form-data' }\r\n  }),\r\n  getClaimsByItem: (itemId) => api.get(`/claims/item/${itemId}`),\r\n  getMyClaims: () => api.get('/claims/my'),\r\n  updateClaimStatus: (id, data) => api.put(`/claims/${id}/status`, data),\r\n  deleteClaim: (id) => api.delete(`/claims/${id}`)\r\n};\r\n\r\n// Admin API\r\nexport const adminAPI = {\r\n  getStats: () => api.get('/admin/stats'),\r\n  getUsers: () => api.get('/admin/users'),\r\n  updateUserRole: (id, role) => api.put(`/admin/users/${id}/role`, { role }),\r\n  toggleUserStatus: (id) => api.put(`/admin/users/${id}/toggle-status`),\r\n  getAllClaims: (status) => api.get('/admin/claims', { params: { status } }),\r\n  disputeClaim: (id, reviewNote) => api.put(`/admin/claims/${id}/dispute`, { reviewNote }),\r\n  deleteItem: (id) => api.delete(`/admin/items/${id}`)\r\n};\r\n\r\nexport default api;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}